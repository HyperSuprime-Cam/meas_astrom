# -*- python -*-
Import("env")

import glob, os, sys

import lsst.tests

for fileName in glob.glob("*.cc"):
    env.Program(fileName, LIBS=env.getlibs("meas_astrom"))

ignoreList = ["testConvertCheby"]
tests = lsst.tests.Control(env, ignoreList=ignoreList)

tests.run("*.cc")

for target in tests.run("*.py"):
    for d in ["net", "sip"]:
        env.Depends(target, "#/python/lsst/meas/astrom/%s/_%sLib%s" % (d, d, env['LDMODULESUFFIX']))
